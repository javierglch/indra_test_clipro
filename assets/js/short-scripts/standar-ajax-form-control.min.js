$(document).ready(function(a){$(".ajax-form:not(.scanned)").submit(function(g){g.preventDefault();var f=$(a.target).find('[type="submit"]');if($(f).prop("disabled")==true){return false}if($(f).attr("confirm")&&!confirm($(f).attr("confirm"))){return false}var c=$(f).html();$(f).html('<i class="fas fa-spinner"></i>');$(f).prop("disabled",true);$(f).addClass("waiting");var d=$(this).attr("action");var i=$(this).attr("method");var e=new FormData(document.getElementById($(this).attr("id")));var b=$(this).attr("dataType")?$(this).attr("dataType"):"json";var h=$(this).attr("callback");$("#formValidation").html("");$.ajax({url:d,type:i,data:e,processData:false,contentType:false,dataType:b,success:window[h],complete:function(j){$(f).prop("disabled",false);$(f).removeClass("waiting");$(f).html(c)}}).fail(function(j){alert(j.status+" - "+j.statusText)});return false}).addClass("scanned");$(".custom-file-input").on("change",function(){var b=$(this).val().split("\\").pop();$(this).next(".custom-file-label").addClass("selected").html(b)})});function DefaultFormResponse(c){console.log(c);if(c.csrf_token_hash){$("#"+c.form_uuid+' [name="'+c.csrf_token_name+'"]').val(c.csrf_token_hash)}if(c.errors){for(var a in c.errors){var e=c.errors[a];if(a=="#formValidation"){$(a).prepend(e)}else{$("#"+c.form_uuid+' [name="'+a+'"]').parent().prepend(e);$("#"+c.form_uuid+' [name="'+a+'"]').addClass("is-invalid").on("keydown",function(f){$(this).removeClass("is-invalid")})}}}else{if(c.msgs){for(var b in c.msgs){var d=c.msgs[b];$("#"+c.form_uuid).prepend(d)}}if(c.redirect_to){window.location=c.redirect_to}else{if(c.redirect_to_blank){open(c.redirect_to_blank)}else{location.reload()}}}}function AjaxUploadFile(g,f,a,c){var d=$(g);if(d.prop("disabled")==true){return}d.prop("disabled",true);d.addClass("waiting");var b=d.html();d.html(b+' <i class="fa fa-spinner fa-spin"></i>');var e=new FormData();e.append($(a).attr("name"),$(a)[0].files[0]);$.ajax({url:f,type:"POST",data:e,processData:false,contentType:false,dataType:"json",success:window[c],complete:function(h){d.html(b);d.prop("disabled",false);d.removeClass("waiting")}}).fail(function(h){alert(h.status+" - "+h.statusText)})};